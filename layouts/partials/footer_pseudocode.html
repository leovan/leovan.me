{{- if $.Page.Store.Get "pseudocode" }}
<script src="//cdn.jsdelivr.net/npm/pseudocode@{{ $.Site.Params.pseudocodeVersion }}/build/pseudocode.min.js"></script>
<script type="text/javascript">
  let pseudocodeCaptionCount = 0;
  (function(d) {
    d.querySelectorAll(".pseudocode").forEach(function(el) {
      let options = {
        indentSize: '{{ $.Site.Params.indentSize | default "1.2em" }}',
        commentDelimiter: '{{ $.Site.Params.commentDelimiter | default "//" }}',
        lineNumber: {{ $.Site.Params.lineNumber | default true }},
        lineNumberPunc: '{{ $.Site.Params.lineNumberPunc | default ":" }}',
        noEnd: {{ $.Site.Params.noEnd | default false }}
      };
      options.captionCount = pseudocodeCaptionCount;
      pseudocodeCaptionCount += 1;
      pseudocode.renderElement(el, options);
    });
  })(document);
</script>
{{- end }}
